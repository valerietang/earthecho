<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earth Echo Donation Form</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .error {
            color: red;
            font-size: 14px;
        }
    </style>
</head>
<header>
    <h1>Your support would go a long way to help us continue the Earth Echo initiative!</h1>
    <br>
    <p>In case anyone else sees this: Please note that this is just a school project. DO NOT ACTUALLY INPUT YOUR CARD DETAILS IN THE FORM. </p>
</header>
<nav>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="action_log.html">Action Log</a></li>
        <li><a href="interactive_dashboard.html">Interactive Dashboard</a></li>
        <li><a href="eco_inspirations.html">Eco Inspirations</a></li>
        <li><a href="achievements.html">Achievements & Badges</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="donate.html">Donate</a></li>   
    </ul>
</nav>
<body>
    <form id="donationForm" action="#" method="post" onsubmit="return validateForm()">
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required><br><br>

        <label>Donation Amount:</label>
        <select id="donation_amount" name="donation_amount" required>
            <option value="$10">$10</option>
            <option value="$25">$25</option>
            <option value="$50">$50</option>
            <option value="$100">$100</option>
            <option value="other">Other</option>
        </select><br><br>

        <label>Payment Method:</label><br>
        <input type="radio" id="visa" name="payment_method" value="Visa" required>
        <label for="visa">Visa</label>
        <input type="radio" id="mastercard" name="payment_method" value="MasterCard">
        <label for="mastercard">MasterCard</label>
        <input type="radio" id="amex" name="payment_method" value="Amex">
        <label for="amex">American Express</label><br><br>

        <label for="card_number">Credit Card Number:</label>
        <input type="text" id="card_number" name="card_number" required><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br><br>

        <label for="confirm_password">Confirm Password:</label>
        <input type="password" id="confirm_password" name="confirm_password" required><br><br>

        <label for="message">Message (optional):</label>
        <textarea id="message" name="message" rows="4"></textarea><br><br>

        <label for="postal_code">Postal Code:</label>
        <input type="text" id="postal_code" name="postal_code" required><br><br>

        <button type="submit">Donate Now</button>
    </form>

    <div id="errorMessages" class="error"></div>
</body>
<script>
    function validateForm() {
        let errorMessages = [];
        let name = document.getElementById("name").value.trim();
        let email = document.getElementById("email").value.trim();
        let phone = document.getElementById("phone").value.trim();
        let cardNumber = document.getElementById("card_number").value.trim();
        let password = document.getElementById("password").value.trim();
        let confirmPassword = document.getElementById("confirm_password").value.trim();
        let postalCode = document.getElementById("postal_code").value.trim();

        // Name Validation
        if (name === "") {
            errorMessages.push("Full Name is required.");
        }

        // Email Validation
        if (email === "" || !validateEmail(email)) {
            errorMessages.push("Please enter a valid email address.");
        }

        // Phone Number Validation
        if (phone === "" || !/^\d{10}$/.test(phone)) {
            errorMessages.push("Please enter a valid 10-digit phone number.");
        }

        // Credit Card Number Validation
        if (cardNumber === "" || !/^\d{13,19}$/.test(cardNumber)) {
            errorMessages.push("Please enter a valid credit card number (13-19 digits).");
        }

        // Password Validation
        if (password === "") {
            errorMessages.push("Password is required.");
        } else if (!/(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(password)) {
            errorMessages.push("Password must be at least 8 characters long, with at least one letter and one number.");
        }

        // Confirm Password Validation
        if (confirmPassword !== password) {
            errorMessages.push("Passwords do not match.");
        }

        // Postal Code Validation (basic US zip code format)
        if (postalCode === "" || !/^\d{5}$/.test(postalCode)) {
            errorMessages.push("Please enter a valid 5-digit postal code.");
        }

        // If there are any error messages, display them and prevent form submission
        if (errorMessages.length > 0) {
            document.getElementById("errorMessages").innerHTML = errorMessages.join("<br>");
            alert(errorMessages.join("\n"));
            return false; // Prevent form submission
        }

        return true; // Allow form submission
    }

    function validateEmail(email) {
        const re = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        return re.test(email);
    }
</script>
</html>
